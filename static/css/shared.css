:root {
    /* === FF Kingdom Blue Palette === */
    --ff-blue-deep: #0C1445;
    --ff-blue-mid: #1a237e;
    --ff-blue-dialog: #0d1b4a;
    --ff-blue-light: #283593;

    /* Gold/Selection */
    --ff-gold: #FFD54F;
    --ff-gold-dim: #C9A227;
    --ff-cursor: #FFEB3B;

    /* Text */
    --ff-white: #EAEAEA;
    --ff-white-dim: #9E9E9E;
    --ff-shadow: #000820;

    /* Status colors */
    --ff-hp: #66BB6A;
    --ff-mp: #42A5F5;
    --ff-danger: #EF5350;

    /* Borders */
    --ff-border-outer: #5C6BC0;
    --ff-border-inner: #3949AB;
    --ff-border-shadow: #0a0a1a;

    /* Spacing - pixel grid aligned */
    --px: 4px;
    --px-2: 8px;
    --px-3: 12px;
    --px-4: 16px;
    --px-6: 24px;
    --px-8: 32px;

    /* Typography */
    --font-pixel: 'Press Start 2P', monospace;
    --font-dialog: 'VT323', monospace;

    /* Legacy variable mappings for compatibility */
    --space-xs: var(--px);
    --space-sm: var(--px-2);
    --space-md: var(--px-4);
    --space-lg: var(--px-6);
    --space-xl: var(--px-8);
    --space-2xl: calc(var(--px-8) * 1.5);

    --text-primary: var(--ff-white);
    --text-secondary: var(--ff-white-dim);
    --text-muted: #6B6560;

    --bg-deep: var(--ff-blue-deep);
    --bg-primary: var(--ff-blue-mid);
    --bg-elevated: var(--ff-blue-light);
    --bg-hover: #3949AB;

    --accent-primary: var(--ff-gold);
    --accent-glow: rgba(255, 213, 79, 0.15);

    --border-subtle: rgba(92, 107, 192, 0.3);
    --border-accent: rgba(255, 213, 79, 0.5);
}

*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

body {
    font-family: var(--font-dialog);
    font-size: 18px;
    line-height: 1.4;
    color: var(--ff-white);
    background: var(--ff-blue-deep);
    /* Scanline overlay for authentic CRT effect */
    background-image:
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 0, 0, 0.15) 2px,
            rgba(0, 0, 0, 0.15) 4px
        );
}

/* === FF-STYLE DIALOG BOX === */
.ff-box {
    background: linear-gradient(180deg, var(--ff-blue-mid) 0%, var(--ff-blue-dialog) 100%);
    border: 4px solid var(--ff-border-outer);
    box-shadow:
        inset 0 0 0 2px var(--ff-border-shadow),
        inset 0 0 0 6px var(--ff-border-inner),
        6px 6px 0 var(--ff-shadow);
    padding: var(--px-4);
    position: relative;
}

/* === PIXEL BUTTONS === */
.ff-btn {
    font-family: var(--font-pixel);
    font-size: 10px;
    color: var(--ff-white);
    background: var(--ff-blue-mid);
    border: 3px solid var(--ff-border-outer);
    padding: var(--px-2) var(--px-4);
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow:
        inset -2px -2px 0 var(--ff-border-shadow),
        inset 2px 2px 0 var(--ff-border-inner);
    transition: none;
}

.ff-btn:hover {
    background: var(--ff-blue-light);
    color: var(--ff-gold);
}

.ff-btn:active {
    box-shadow:
        inset 2px 2px 0 var(--ff-border-shadow),
        inset -2px -2px 0 var(--ff-border-inner);
    transform: translate(2px, 2px);
}

/* === HEADER === */
.header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--px-3) var(--px-6);
    background: linear-gradient(180deg, #1a237e 0%, #0d1445 100%);
    border-bottom: 4px solid var(--ff-border-outer);
    box-shadow: 0 4px 0 var(--ff-shadow);
}

.logo {
    display: flex;
    align-items: center;
    gap: var(--px-4);
}

.logo-image {
    height: 48px;
    width: 48px;
    object-fit: cover;
    transition: none;
    border: 3px solid var(--ff-border-outer);
    box-shadow:
        inset 0 0 0 1px var(--ff-border-inner),
        3px 3px 0 var(--ff-shadow);
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

.logo-image:hover {
    border-color: var(--ff-gold);
    box-shadow:
        inset 0 0 0 1px var(--ff-border-inner),
        4px 4px 0 var(--ff-shadow);
}

.logo-text {
    font-family: var(--font-pixel);
    font-size: 14px;
    color: var(--ff-gold);
    text-shadow: 2px 2px 0 var(--ff-shadow), 4px 4px 0 rgba(0,0,0,0.3);
    letter-spacing: 2px;
}

/* === SELECTION CURSOR (FF arrow) === */
.ff-cursor::before {
    content: 'â–¶';
    color: var(--ff-cursor);
    margin-right: var(--px-2);
    animation: cursor-blink 0.5s steps(1) infinite;
}

@keyframes cursor-blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

/* === STAT BARS (HP/MP style) === */
.ff-bar {
    height: 8px;
    background: var(--ff-border-shadow);
    border: 2px solid var(--ff-border-outer);
    position: relative;
    overflow: hidden;
}

.ff-bar-fill {
    height: 100%;
    background: var(--ff-hp);
    transition: width 0.3s steps(10);
}

/* === CRYSTAL DECORATIONS === */
.ff-crystal {
    width: 16px;
    height: 16px;
    background: linear-gradient(135deg, #81D4FA 0%, #0288D1 50%, #01579B 100%);
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
    animation: crystal-pulse 2s steps(4) infinite;
}

@keyframes crystal-pulse {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.3); }
}
