<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Ingestion</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/ingest.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-mark">K</div>
            <span class="logo-text">Knowledge Ingestion</span>
        </div>
        <a href="/" class="nav-link">‚Üê Back to Chat</a>
    </header>
    
    <main class="container">
        <h1 class="page-title">Add to Knowledge Base</h1>
        <p class="page-subtitle">Upload documents, images, or paste text to expand your searchable knowledge.</p>
        
        <!-- Upload Zone -->
        <div class="upload-zone" id="uploadZone">
            <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <div class="upload-title">Drop files here or click to browse</div>
            <div class="upload-subtitle">PDFs are rendered as pages for better table/chart understanding</div>
            <div class="upload-formats">
                <span class="format-tag">PDF</span>
                <span class="format-tag">PNG</span>
                <span class="format-tag">JPG</span>
                <span class="format-tag">TXT</span>
            </div>
            <input type="file" id="fileInput" class="file-input" multiple accept=".pdf,.png,.jpg,.jpeg,.gif,.webp,.txt">
        </div>
        
        <!-- Upload Queue -->
        <div class="section queue" id="queue" style="display: none;">
            <div class="section-title">Upload Queue</div>
            <div id="queueItems"></div>
        </div>
        
        <!-- Text Input -->
        <div class="section">
            <div class="section-title">Or paste text directly</div>
            <div class="text-input-container">
                <div class="text-input-header">
                    <input type="text" id="textTitle" placeholder="Document title (optional)">
                </div>
                <textarea class="text-area" id="textContent" placeholder="Paste or type your content here..."></textarea>
                <div class="text-input-footer">
                    <button class="btn btn-primary" id="submitText" disabled>Add Text</button>
                </div>
            </div>
        </div>
        
        <!-- Recent Documents -->
        <div class="section" id="recentSection" style="display: none;">
            <div class="section-title">Recently Added</div>
            <div class="recent-grid" id="recentGrid"></div>
        </div>
    </main>
    
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- Scripts -->
    <script src="js/ingest.js" defer></script>
</body>
</html>